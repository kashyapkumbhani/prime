module.exports=[1016,a=>{"use strict";a.s(["default",()=>y],1016);var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(40695),f=a.i(3130),g=a.i(54161),h=a.i(7379),i=a.i(70106);let j=(0,i.default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);var k=a.i(84505),l=a.i(92258),m=a.i(63519),n=a.i(41675),o=a.i(60246),p=a.i(50180),q=a.i(7487),r=a.i(76472);let s=(0,i.default)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]]);var t=a.i(4720),u=a.i(41710);let v=(0,i.default)("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);var w=a.i(56711);function x(){let a=(0,d.useSearchParams)(),i=(0,d.useRouter)(),x=a.get("orderId"),[y,z]=(0,c.useState)(null),[A,B]=(0,c.useState)(!0),[C,D]=(0,c.useState)(""),[E,F]=(0,c.useState)(!1),G=(0,c.useCallback)(async()=>{try{let a=await fetch(`/api/orders/${x}`);if(a.ok){let b=await a.json();z(b.order)}else D("Order not found")}catch{D("Failed to load order details")}finally{B(!1)}},[x]);(0,c.useEffect)(()=>{x&&G()},[x,G]);let H=a=>{switch(a.toLowerCase().replace("_","-")){case"flight-reservation":return"Flight Reservation";case"hotel-booking":return"Hotel Booking";case"travel-insurance":return"Travel Insurance";default:return"Travel Service"}},I=async()=>{if(y){F(!0);try{let a=`
PRIME TRAVEL - BOOKING RECEIPT
===============================

Order ID: ${y.id}
Booking Date: ${(0,w.format)(new Date(y.createdAt),"PPP 'at' p")}

Service Details:
- Service: ${H(y.serviceType)}
- Travelers: ${y.numberOfTravelers}
- Status: ${y.status}

Customer Information:
- Name: ${y.customer.name||y.customer.email}
- Email: ${y.customer.email}
- Phone: ${y.customer.phone}

Payment Summary:
- Service Fee: ₹${Math.round(.85*y.totalAmount).toLocaleString()}
- Processing Fee: ₹${Math.round(.1*y.totalAmount).toLocaleString()}
- Taxes & Fees: ₹${Math.round(.05*y.totalAmount).toLocaleString()}
- Total Paid: ₹${y.totalAmount.toLocaleString()}

Thank you for choosing Prime Travel!

For support, contact: support@primetravel.com
Phone: +91 9876543210
      `.trim(),b=new Blob([a],{type:"text/plain"}),c=window.URL.createObjectURL(b),d=document.createElement("a");d.href=c,d.download=`Prime-Travel-Receipt-${y.id}.txt`,document.body.appendChild(d),d.click(),document.body.removeChild(d),window.URL.revokeObjectURL(c),alert("Receipt downloaded successfully!")}catch(a){console.error("Error downloading receipt:",a),alert("Failed to download receipt. Please try again.")}finally{F(!1)}}},J=async()=>{if(!y)return;let a=`🎉 Booking Confirmed with Prime Travel!

Order ID: ${y.id}
Service: ${H(y.serviceType)}
Travelers: ${y.numberOfTravelers}
Amount: ₹${y.totalAmount.toLocaleString()}

Thank you for choosing Prime Travel! 🛫✈️

For support: +91 9876543210`,b=window.location.href;if(navigator.share)try{await navigator.share({title:"Prime Travel - Booking Confirmation",text:a,url:b})}catch(c){c instanceof Error&&"AbortError"!==c.name&&(console.error("Error sharing:",c),K(a,b))}else K(a,b)},K=(a,b)=>{let c=`${a}

Confirmation Link: ${b}`;navigator.clipboard?navigator.clipboard.writeText(c).then(()=>{alert("Confirmation details copied to clipboard! You can now share it anywhere.")}).catch(()=>{L(c)}):L(c)},L=a=>{let b=window.open("","_blank","width=500,height=400");b?b.document.write(`
        <html>
          <head><title>Share Confirmation</title></head>
          <body style="font-family: Arial, sans-serif; padding: 20px;">
            <h2>Share Your Booking Confirmation</h2>
            <p>Copy the text below and share it:</p>
            <textarea style="width: 100%; height: 200px; margin: 10px 0; padding: 10px;" readonly>${a}</textarea>
            <button onclick="navigator.clipboard.writeText(document.querySelector('textarea').value).then(() => alert('Copied!')); window.close();" style="background: #2563eb; color: white; padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer;">Copy & Close</button>
          </body>
        </html>
      `):alert("Please copy this confirmation:\n\n"+a)};return A?(0,b.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-gray-600",children:"Loading order details..."})]})}):C||!y?(0,b.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,b.jsx)(f.Card,{className:"max-w-md w-full mx-4",children:(0,b.jsxs)(f.CardContent,{className:"p-8 text-center",children:[(0,b.jsx)("div",{className:"text-red-600 mb-4",children:(0,b.jsx)(t.FileText,{className:"h-12 w-12 mx-auto"})}),(0,b.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Order Not Found"}),(0,b.jsx)("p",{className:"text-gray-600 mb-6",children:C}),(0,b.jsx)(e.Button,{onClick:()=>i.push("/"),className:"w-full",children:"Return Home"})]})})}):(0,b.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,b.jsxs)("div",{className:"max-w-4xl mx-auto px-4",children:[(0,b.jsxs)("div",{className:"text-center mb-8",children:[(0,b.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-4",children:(0,b.jsx)(j,{className:"h-8 w-8 text-green-600"})}),(0,b.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Booking Confirmed!"}),(0,b.jsx)("p",{className:"text-lg text-gray-600",children:"Thank you for choosing Prime Travel. Your booking has been successfully processed."})]}),(0,b.jsxs)("div",{className:"grid lg:grid-cols-2 gap-8",children:[(0,b.jsxs)(f.Card,{children:[(0,b.jsxs)(f.CardHeader,{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)(f.CardTitle,{className:"flex items-center",children:[(a=>{switch(a.toLowerCase().replace("_","-")){case"flight-reservation":return(0,b.jsx)(p.Plane,{className:"h-6 w-6 text-blue-600"});case"hotel-booking":return(0,b.jsx)(q.Hotel,{className:"h-6 w-6 text-green-600"});case"travel-insurance":return(0,b.jsx)(r.Heart,{className:"h-6 w-6 text-red-600"});default:return(0,b.jsx)(t.FileText,{className:"h-6 w-6 text-gray-600"})}})(y.serviceType),(0,b.jsx)("span",{className:"ml-2",children:H(y.serviceType)})]}),(0,b.jsxs)(g.Badge,{variant:"default",className:"bg-green-600",children:[(0,b.jsx)(j,{className:"h-3 w-3 mr-1"}),"Confirmed"]})]}),(0,b.jsxs)(f.CardDescription,{children:["Order ID: ",(0,b.jsx)("span",{className:"font-mono text-blue-600",children:y.id})]})]}),(0,b.jsxs)(f.CardContent,{className:"space-y-6",children:[(0,b.jsx)("div",{className:"p-4 bg-blue-50 rounded-lg",children:(0,b.jsx)("p",{className:"text-blue-800",children:(a=>{switch(a.toLowerCase().replace("_","-")){case"flight-reservation":return"Your flight reservation documents will be processed and delivered within 15 minutes.";case"hotel-booking":return"Your hotel booking confirmation will be processed and sent to your email.";case"travel-insurance":return"Your travel insurance policy documents will be generated and emailed to you.";default:return"Your booking will be processed and confirmed."}})(y.serviceType)})}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)(n.Calendar,{className:"h-5 w-5 text-gray-500 mr-3"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium",children:"Booking Date"}),(0,b.jsx)("div",{className:"text-sm text-gray-600",children:(0,w.format)(new Date(y.createdAt),"PPP 'at' p")})]})]}),(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)(o.Users,{className:"h-5 w-5 text-gray-500 mr-3"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium",children:"Number of Travelers"}),(0,b.jsxs)("div",{className:"text-sm text-gray-600",children:[y.numberOfTravelers," traveler(s)"]})]})]}),(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)(u.Clock,{className:"h-5 w-5 text-gray-500 mr-3"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium",children:"Processing Time"}),(0,b.jsx)("div",{className:"text-sm text-gray-600",children:"5-15 minutes (expedited processing)"})]})]})]}),(0,b.jsx)(h.Separator,{}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)("h3",{className:"font-medium text-gray-900",children:"Payment Summary"}),(0,b.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{children:"Service Fee"}),(0,b.jsxs)("span",{children:["₹",Math.round(.85*y.totalAmount).toLocaleString()]})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{children:"Processing Fee"}),(0,b.jsxs)("span",{children:["₹",Math.round(.1*y.totalAmount).toLocaleString()]})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{children:"Taxes & Fees"}),(0,b.jsxs)("span",{children:["₹",Math.round(.05*y.totalAmount).toLocaleString()]})]}),(0,b.jsx)(h.Separator,{}),(0,b.jsxs)("div",{className:"flex justify-between font-medium text-base",children:[(0,b.jsx)("span",{children:"Total Paid"}),(0,b.jsxs)("span",{children:["₹",y.totalAmount.toLocaleString()]})]})]})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)(e.Button,{onClick:I,disabled:E,className:"w-full bg-blue-600 hover:bg-blue-700",children:E?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Generating..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(k.Download,{className:"h-4 w-4 mr-2"}),"Download Receipt"]})}),(0,b.jsxs)(e.Button,{onClick:J,variant:"outline",className:"w-full",children:[(0,b.jsx)(v,{className:"h-4 w-4 mr-2"}),"Share Confirmation"]})]})]})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)(f.Card,{children:[(0,b.jsx)(f.CardHeader,{children:(0,b.jsx)(f.CardTitle,{children:"Customer Details"})}),(0,b.jsxs)(f.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center mr-3",children:(0,b.jsx)("span",{className:"font-medium text-blue-600",children:y.customer.name?.charAt(0)||y.customer.email.charAt(0).toUpperCase()})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium",children:y.customer.name||y.customer.email}),(0,b.jsx)("div",{className:"text-sm text-gray-600",children:"Primary Contact"})]})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)(l.Mail,{className:"h-4 w-4 text-gray-500 mr-3"}),(0,b.jsx)("span",{className:"text-sm",children:y.customer.email})]}),(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)(m.Phone,{className:"h-4 w-4 text-gray-500 mr-3"}),(0,b.jsx)("span",{className:"text-sm",children:y.customer.phone})]})]})]})]}),(0,b.jsxs)(f.Card,{children:[(0,b.jsx)(f.CardHeader,{children:(0,b.jsx)(f.CardTitle,{children:"What Happens Next?"})}),(0,b.jsxs)(f.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-start",children:[(0,b.jsx)("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center mr-3 mt-0.5",children:(0,b.jsx)("span",{className:"text-sm font-medium text-blue-600",children:"1"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium",children:"Processing Started"}),(0,b.jsx)("div",{className:"text-sm text-gray-600",children:"Your booking is being processed by our team"})]})]}),(0,b.jsxs)("div",{className:"flex items-start",children:[(0,b.jsx)("div",{className:"w-6 h-6 bg-gray-200 rounded-full flex items-center justify-center mr-3 mt-0.5",children:(0,b.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"2"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium",children:"Document Preparation"}),(0,b.jsx)("div",{className:"text-sm text-gray-600",children:"Documents will be prepared within 5-15 minutes"})]})]}),(0,b.jsxs)("div",{className:"flex items-start",children:[(0,b.jsx)("div",{className:"w-6 h-6 bg-gray-200 rounded-full flex items-center justify-center mr-3 mt-0.5",children:(0,b.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"3"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium",children:"Email Delivery"}),(0,b.jsxs)("div",{className:"text-sm text-gray-600",children:["Documents sent to ",y.customer.email]})]})]})]}),(0,b.jsx)("div",{className:"mt-6 p-4 bg-yellow-50 rounded-lg",children:(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)(u.Clock,{className:"h-5 w-5 text-yellow-600 mr-3"}),(0,b.jsxs)("div",{className:"text-sm",children:[(0,b.jsx)("div",{className:"font-medium text-yellow-800",children:"Estimated Delivery"}),(0,b.jsx)("div",{className:"text-yellow-600",children:"Within 15 minutes to your email"})]})]})})]})]}),(0,b.jsxs)(f.Card,{children:[(0,b.jsx)(f.CardHeader,{children:(0,b.jsx)(f.CardTitle,{children:"Need Help?"})}),(0,b.jsx)(f.CardContent,{children:(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)(e.Button,{variant:"outline",className:"w-full justify-start",onClick:()=>i.push("/contact"),children:[(0,b.jsx)(m.Phone,{className:"h-4 w-4 mr-2"}),"Contact Support"]}),(0,b.jsxs)(e.Button,{variant:"outline",className:"w-full justify-start",onClick:()=>i.push("/"),children:[(0,b.jsx)(s,{className:"h-4 w-4 mr-2"}),"Return Home"]})]})})]})]})]})]})})}function y(){return(0,b.jsx)(c.Suspense,{fallback:(0,b.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-gray-600",children:"Loading order details..."})]})}),children:(0,b.jsx)(x,{})})}}];

//# sourceMappingURL=app_order-confirmation_page_tsx_503ebc1b._.js.map