(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,90597,e=>{"use strict";e.s(["Heart",()=>a],90597);let a=(0,e.i(75254).default)("heart",[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]])},40160,e=>{"use strict";e.s(["Download",()=>a],40160);let a=(0,e.i(75254).default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]])},63488,e=>{"use strict";e.s(["Mail",()=>a],63488);let a=(0,e.i(75254).default)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])},43432,e=>{"use strict";e.s(["Phone",()=>a],43432);let a=(0,e.i(75254).default)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]])},87316,e=>{"use strict";e.s(["Calendar",()=>a.default]);var a=e.i(61277)},69035,25511,e=>{"use strict";e.s(["Separator",()=>c],69035);var a=e.i(43476),t=e.i(71645),s=e.i(48425),r="horizontal",n=["horizontal","vertical"],i=t.forwardRef((e,t)=>{var i;let{decorative:l,orientation:c=r,...o}=e,d=(i=c,n.includes(i))?c:r;return(0,a.jsx)(s.Primitive.div,{"data-orientation":d,...l?{role:"none"}:{"aria-orientation":"vertical"===d?d:void 0,role:"separator"},...o,ref:t})});i.displayName="Separator";var l=e.i(47163);function c(e){let{className:t,orientation:s="horizontal",decorative:r=!0,...n}=e;return(0,a.jsx)(i,{"data-slot":"separator",decorative:r,orientation:s,className:(0,l.cn)("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...n})}e.s(["Hotel",()=>o],25511);let o=(0,e.i(75254).default)("hotel",[["path",{d:"M10 22v-6.57",key:"1wmca3"}],["path",{d:"M12 11h.01",key:"z322tv"}],["path",{d:"M12 7h.01",key:"1ivr5q"}],["path",{d:"M14 15.43V22",key:"1q2vjd"}],["path",{d:"M15 16a5 5 0 0 0-6 0",key:"o9wqvi"}],["path",{d:"M16 11h.01",key:"xkw8gn"}],["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 7h.01",key:"1vti4s"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]])},87029,e=>{"use strict";e.s(["default",()=>k],87029);var a=e.i(43476),t=e.i(71645),s=e.i(18566),r=e.i(67881),n=e.i(70065),i=e.i(94179),l=e.i(69035),c=e.i(75254);let o=(0,c.default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);var d=e.i(40160),m=e.i(63488),h=e.i(43432),x=e.i(87316),u=e.i(61911),j=e.i(71757),v=e.i(25511),p=e.i(90597);let y=(0,c.default)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]]);var f=e.i(78583),g=e.i(3116);let N=(0,c.default)("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);var w=e.i(1851);function b(){var e;let c=(0,s.useSearchParams)(),b=(0,s.useRouter)(),k=c.get("orderId"),[C,T]=(0,t.useState)(null),[P,S]=(0,t.useState)(!0),[M,A]=(0,t.useState)(""),[L,D]=(0,t.useState)(!1),B=(0,t.useCallback)(async()=>{try{let e=await fetch("/api/orders/".concat(k));if(e.ok){let a=await e.json();T(a.order)}else A("Order not found")}catch(e){A("Failed to load order details")}finally{S(!1)}},[k]);(0,t.useEffect)(()=>{k&&B()},[k,B]);let R=e=>{switch(e.toLowerCase().replace("_","-")){case"flight-reservation":return"Flight Reservation";case"hotel-booking":return"Hotel Booking";case"travel-insurance":return"Travel Insurance";default:return"Travel Service"}},F=async()=>{if(C){D(!0);try{let e="\nPRIME TRAVEL - BOOKING RECEIPT\n===============================\n\nOrder ID: ".concat(C.id,"\nBooking Date: ").concat((0,w.format)(new Date(C.createdAt),"PPP 'at' p"),"\n\nService Details:\n- Service: ").concat(R(C.serviceType),"\n- Travelers: ").concat(C.numberOfTravelers,"\n- Status: ").concat(C.status,"\n\nCustomer Information:\n- Name: ").concat(C.customer.name||C.customer.email,"\n- Email: ").concat(C.customer.email,"\n- Phone: ").concat(C.customer.phone,"\n\nPayment Summary:\n- Service Fee: ₹").concat(Math.round(.85*C.totalAmount).toLocaleString(),"\n- Processing Fee: ₹").concat(Math.round(.1*C.totalAmount).toLocaleString(),"\n- Taxes & Fees: ₹").concat(Math.round(.05*C.totalAmount).toLocaleString(),"\n- Total Paid: ₹").concat(C.totalAmount.toLocaleString(),"\n\nThank you for choosing Prime Travel!\n\nFor support, contact: support@primetravel.com\nPhone: +91 9876543210\n      ").trim(),a=new Blob([e],{type:"text/plain"}),t=window.URL.createObjectURL(a),s=document.createElement("a");s.href=t,s.download="Prime-Travel-Receipt-".concat(C.id,".txt"),document.body.appendChild(s),s.click(),document.body.removeChild(s),window.URL.revokeObjectURL(t),alert("Receipt downloaded successfully!")}catch(e){console.error("Error downloading receipt:",e),alert("Failed to download receipt. Please try again.")}finally{D(!1)}}},H=async()=>{if(!C)return;let e="🎉 Booking Confirmed with Prime Travel!\n\nOrder ID: ".concat(C.id,"\nService: ").concat(R(C.serviceType),"\nTravelers: ").concat(C.numberOfTravelers,"\nAmount: ₹").concat(C.totalAmount.toLocaleString(),"\n\nThank you for choosing Prime Travel! 🛫✈️\n\nFor support: +91 9876543210"),a=window.location.href;if(navigator.share)try{await navigator.share({title:"Prime Travel - Booking Confirmation",text:e,url:a})}catch(t){t instanceof Error&&"AbortError"!==t.name&&(console.error("Error sharing:",t),O(e,a))}else O(e,a)},O=(e,a)=>{let t="".concat(e,"\n\nConfirmation Link: ").concat(a);navigator.clipboard?navigator.clipboard.writeText(t).then(()=>{alert("Confirmation details copied to clipboard! You can now share it anywhere.")}).catch(()=>{E(t)}):E(t)},E=e=>{let a=window.open("","_blank","width=500,height=400");a?a.document.write('\n        <html>\n          <head><title>Share Confirmation</title></head>\n          <body style="font-family: Arial, sans-serif; padding: 20px;">\n            <h2>Share Your Booking Confirmation</h2>\n            <p>Copy the text below and share it:</p>\n            <textarea style="width: 100%; height: 200px; margin: 10px 0; padding: 10px;" readonly>'.concat(e,"</textarea>\n            <button onclick=\"navigator.clipboard.writeText(document.querySelector('textarea').value).then(() => alert('Copied!')); window.close();\" style=\"background: #2563eb; color: white; padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer;\">Copy & Close</button>\n          </body>\n        </html>\n      ")):alert("Please copy this confirmation:\n\n"+e)};return P?(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Loading order details..."})]})}):M||!C?(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsx)(n.Card,{className:"max-w-md w-full mx-4",children:(0,a.jsxs)(n.CardContent,{className:"p-8 text-center",children:[(0,a.jsx)("div",{className:"text-red-600 mb-4",children:(0,a.jsx)(f.FileText,{className:"h-12 w-12 mx-auto"})}),(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Order Not Found"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:M}),(0,a.jsx)(r.Button,{onClick:()=>b.push("/"),className:"w-full",children:"Return Home"})]})})}):(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto px-4",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-4",children:(0,a.jsx)(o,{className:"h-8 w-8 text-green-600"})}),(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Booking Confirmed!"}),(0,a.jsx)("p",{className:"text-lg text-gray-600",children:"Thank you for choosing Prime Travel. Your booking has been successfully processed."})]}),(0,a.jsxs)("div",{className:"grid lg:grid-cols-2 gap-8",children:[(0,a.jsxs)(n.Card,{children:[(0,a.jsxs)(n.CardHeader,{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(n.CardTitle,{className:"flex items-center",children:[(e=>{switch(e.toLowerCase().replace("_","-")){case"flight-reservation":return(0,a.jsx)(j.Plane,{className:"h-6 w-6 text-blue-600"});case"hotel-booking":return(0,a.jsx)(v.Hotel,{className:"h-6 w-6 text-green-600"});case"travel-insurance":return(0,a.jsx)(p.Heart,{className:"h-6 w-6 text-red-600"});default:return(0,a.jsx)(f.FileText,{className:"h-6 w-6 text-gray-600"})}})(C.serviceType),(0,a.jsx)("span",{className:"ml-2",children:R(C.serviceType)})]}),(0,a.jsxs)(i.Badge,{variant:"default",className:"bg-green-600",children:[(0,a.jsx)(o,{className:"h-3 w-3 mr-1"}),"Confirmed"]})]}),(0,a.jsxs)(n.CardDescription,{children:["Order ID: ",(0,a.jsx)("span",{className:"font-mono text-blue-600",children:C.id})]})]}),(0,a.jsxs)(n.CardContent,{className:"space-y-6",children:[(0,a.jsx)("div",{className:"p-4 bg-blue-50 rounded-lg",children:(0,a.jsx)("p",{className:"text-blue-800",children:(e=>{switch(e.toLowerCase().replace("_","-")){case"flight-reservation":return"Your flight reservation documents will be processed and delivered within 15 minutes.";case"hotel-booking":return"Your hotel booking confirmation will be processed and sent to your email.";case"travel-insurance":return"Your travel insurance policy documents will be generated and emailed to you.";default:return"Your booking will be processed and confirmed."}})(C.serviceType)})}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(x.Calendar,{className:"h-5 w-5 text-gray-500 mr-3"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:"Booking Date"}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:(0,w.format)(new Date(C.createdAt),"PPP 'at' p")})]})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(u.Users,{className:"h-5 w-5 text-gray-500 mr-3"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:"Number of Travelers"}),(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:[C.numberOfTravelers," traveler(s)"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(g.Clock,{className:"h-5 w-5 text-gray-500 mr-3"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:"Processing Time"}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"5-15 minutes (expedited processing)"})]})]})]}),(0,a.jsx)(l.Separator,{}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("h3",{className:"font-medium text-gray-900",children:"Payment Summary"}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Service Fee"}),(0,a.jsxs)("span",{children:["₹",Math.round(.85*C.totalAmount).toLocaleString()]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Processing Fee"}),(0,a.jsxs)("span",{children:["₹",Math.round(.1*C.totalAmount).toLocaleString()]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Taxes & Fees"}),(0,a.jsxs)("span",{children:["₹",Math.round(.05*C.totalAmount).toLocaleString()]})]}),(0,a.jsx)(l.Separator,{}),(0,a.jsxs)("div",{className:"flex justify-between font-medium text-base",children:[(0,a.jsx)("span",{children:"Total Paid"}),(0,a.jsxs)("span",{children:["₹",C.totalAmount.toLocaleString()]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(r.Button,{onClick:F,disabled:L,className:"w-full bg-blue-600 hover:bg-blue-700",children:L?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Generating..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.Download,{className:"h-4 w-4 mr-2"}),"Download Receipt"]})}),(0,a.jsxs)(r.Button,{onClick:H,variant:"outline",className:"w-full",children:[(0,a.jsx)(N,{className:"h-4 w-4 mr-2"}),"Share Confirmation"]})]})]})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)(n.Card,{children:[(0,a.jsx)(n.CardHeader,{children:(0,a.jsx)(n.CardTitle,{children:"Customer Details"})}),(0,a.jsxs)(n.CardContent,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center mr-3",children:(0,a.jsx)("span",{className:"font-medium text-blue-600",children:(null==(e=C.customer.name)?void 0:e.charAt(0))||C.customer.email.charAt(0).toUpperCase()})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:C.customer.name||C.customer.email}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Primary Contact"})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(m.Mail,{className:"h-4 w-4 text-gray-500 mr-3"}),(0,a.jsx)("span",{className:"text-sm",children:C.customer.email})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(h.Phone,{className:"h-4 w-4 text-gray-500 mr-3"}),(0,a.jsx)("span",{className:"text-sm",children:C.customer.phone})]})]})]})]}),(0,a.jsxs)(n.Card,{children:[(0,a.jsx)(n.CardHeader,{children:(0,a.jsx)(n.CardTitle,{children:"What Happens Next?"})}),(0,a.jsxs)(n.CardContent,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-start",children:[(0,a.jsx)("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center mr-3 mt-0.5",children:(0,a.jsx)("span",{className:"text-sm font-medium text-blue-600",children:"1"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:"Processing Started"}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Your booking is being processed by our team"})]})]}),(0,a.jsxs)("div",{className:"flex items-start",children:[(0,a.jsx)("div",{className:"w-6 h-6 bg-gray-200 rounded-full flex items-center justify-center mr-3 mt-0.5",children:(0,a.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"2"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:"Document Preparation"}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Documents will be prepared within 5-15 minutes"})]})]}),(0,a.jsxs)("div",{className:"flex items-start",children:[(0,a.jsx)("div",{className:"w-6 h-6 bg-gray-200 rounded-full flex items-center justify-center mr-3 mt-0.5",children:(0,a.jsx)("span",{className:"text-sm font-medium text-gray-600",children:"3"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:"Email Delivery"}),(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:["Documents sent to ",C.customer.email]})]})]})]}),(0,a.jsx)("div",{className:"mt-6 p-4 bg-yellow-50 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(g.Clock,{className:"h-5 w-5 text-yellow-600 mr-3"}),(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsx)("div",{className:"font-medium text-yellow-800",children:"Estimated Delivery"}),(0,a.jsx)("div",{className:"text-yellow-600",children:"Within 15 minutes to your email"})]})]})})]})]}),(0,a.jsxs)(n.Card,{children:[(0,a.jsx)(n.CardHeader,{children:(0,a.jsx)(n.CardTitle,{children:"Need Help?"})}),(0,a.jsx)(n.CardContent,{children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)(r.Button,{variant:"outline",className:"w-full justify-start",onClick:()=>b.push("/contact"),children:[(0,a.jsx)(h.Phone,{className:"h-4 w-4 mr-2"}),"Contact Support"]}),(0,a.jsxs)(r.Button,{variant:"outline",className:"w-full justify-start",onClick:()=>b.push("/"),children:[(0,a.jsx)(y,{className:"h-4 w-4 mr-2"}),"Return Home"]})]})})]})]})]})]})})}function k(){return(0,a.jsx)(t.Suspense,{fallback:(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Loading order details..."})]})}),children:(0,a.jsx)(b,{})})}}]);